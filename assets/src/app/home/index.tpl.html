<img class="img-responsive" src="images/capitol.jpg">

<h3>Send Fax</h3>
<div class="container">

  <div class="row">
    <div class="panel panel-default">
      <div class="panel-heading">

        <form id="tableFilters" class="row">
          <!--Search bar-->
          <div class="form-group col-xs-3">
            <input ng-model="legislatorFilter.$" class="form-control" type="text" placeholder="search"/>
          </div>
          <!--State select-->
          <div class="form-group col-xs-2">
            <select ng-model="legislatorFilter.state" class="form-control">
              <option value="">state</option>
              <option ng-repeat="stateAbrv in stateAbrvs" value="{{stateAbrv}}">{{stateAbrv}}</option>
            </select>
          </div>
          <!--democrat filter-->
          <div class="form-group filterCheckbox col-xs-2">
            <label>
              <input ng-click="includeParty('D')" type="checkbox" value="D">
              Democrat
            </label>
          </div>
          <!--republican filter-->
          <div class="form-group filterCheckbox col-xs-2">
            <label>
              <input ng-click="includeParty('R')" type="checkbox" value="R">
              Republican
            </label>
          </div>
          <!--independent filter-->
          <div class="form-group filterCheckbox col-xs-2">
            <label>
              <input ng-click="includeParty('I')" type="checkbox" value="I">
              Independent
            </label>
          </div>
          <!--selected filter-->
          <div class="form-group filterCheckbox col-xs-2">
            <label>
              <input ng-click="showSelected = !showSelected" type="checkbox" value="">
              Show Selected
            </label>
          </div>
        </form>
      </div>
      <table class='table table-fixed'>
        <thead>
          <tr>
            <th class="col-xs-4"><a ng-click="changeSorting('last_name')">Last</a></th>
            <th class="col-xs-4"><a ng-click="changeSorting('first_name')">First</a></th>
            <th class="col-xs-2"><a ng-click="changeSorting('state')">State</a></th>
            <th class="col-xs-2"><a ng-click="changeSorting('party')">Party</a></th>
          </tr>
        </thead>
          <tbody>
            <tr ng-repeat="legislator in legislators | filter:legislatorFilter
                            | filter:partyFilter | filter:selectedFilter
                            | orderBy:sortField:reverse"
                ng-click="selectLegislator(legislator)"
                ng-class="getClass(legislator)">
              <td class="col-xs-4">{{legislator.last_name}}</td>
              <td class="col-xs-4">{{legislator.first_name}} </td>
              <td class="col-xs-2">{{legislator.state}}</td>
              <td class="col-xs-2">{{legislator.party}}</td>
            </tr>
          </tbody>
      </table>
    </div>
  </div>

  <div class='row form-container'>
    <form name="faxForm" id="faxForm" ng-submit="faxForm.$valid && submitFax()" novalidate>
      <div class="col-xs-8">
        <div class="form-group">
          <label>Message</label>
          <textarea class="form-control" rows="10" required="true" ng-model="newFax.faxContent" required></textarea>
        </div>
      </div>
      <div class="col-xs-4">
        <div class="form-group">
          <label>Name</label>
          <input type="text" class="form-control" required="true" placeholder="your name"ng-model="newFax.name" required/>
        </div>
        <div class="form-group">
          <label>Email</label>
          <input type="email" class="form-control" required="true" placeholder="wow.look@you.com"ng-model="newFax.email" required/>
        </div>
        <label style="display:none">Leave this field blank:</label>
        <input type="text" style="display:none" autofill="off" ng-model="newFax.trap" />
        <p>{{legislatorRequiredMessage}}</p>
        <input class="btn btn-primary" type="submit" value="Send Fax" />
      </div>
    </form>
  </div>

</div>

<img class="img-responsive" src="images/congress.jpg">
